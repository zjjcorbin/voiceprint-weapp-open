<view class="container">
  <!-- æœç´¢æ  -->
  <view class="search-bar">
    <view class="search-input-container">
      <input class="search-input" 
             placeholder="æœç´¢ä¼šè®®æ ‡é¢˜æˆ–æè¿°" 
             value="{{searchKeyword}}"
             bindinput="onSearchInput"
             bindconfirm="onSearch" />
      <view class="search-actions" wx:if="{{searchKeyword}}">
        <text class="clear-btn" bindtap="onClearSearch">âœ•</text>
      </view>
    </view>
    <button class="search-btn" bindtap="onSearch">æœç´¢</button>
  </view>

  <!-- æ ‡ç­¾æ  -->
  <view class="tab-bar">
    <view class="tab-item {{activeTab === index ? 'active' : ''}}" 
          wx:for="{{tabs}}" wx:key="index"
          data-index="{{index}}"
          bindtap="switchTab">
      <text class="tab-text">{{item}}</text>
    </view>
  </view>

  <!-- ä¼šè®®åˆ—è¡¨ -->
  <view class="meeting-list">
    <!-- åŠ è½½çŠ¶æ€ -->
    <view class="loading-container" wx:if="{{loading && meetings.length === 0}}">
      <text class="loading-text">åŠ è½½ä¸­...</text>
    </view>

    <!-- ç©ºçŠ¶æ€ -->
    <view class="empty-container" wx:if="{{!loading && meetings.length === 0}}">
      <view class="empty-icon">ğŸ“…</view>
      <text class="empty-text">æš‚æ— ä¼šè®®è®°å½•</text>
      <button class="create-btn" bindtap="createMeeting">åˆ›å»ºä¼šè®®</button>
    </view>

    <!-- ä¼šè®®é¡¹ -->
    <view class="meeting-item" wx:for="{{meetings}}" wx:key="id">
      <view class="meeting-header" bindtap="viewMeeting" data-id="{{item.id}}">
        <view class="meeting-info">
          <text class="meeting-title">{{item.title}}</text>
          <text class="meeting-desc" wx:if="{{item.description}}">{{item.description}}</text>
        </view>
        <view class="meeting-status {{getStatusClass(item.status)}}">
          <text class="status-text">{{getStatusText(item.status)}}</text>
        </view>
      </view>

      <view class="meeting-details" bindtap="viewMeeting" data-id="{{item.id}}">
        <view class="detail-item">
          <text class="detail-label">å¼€å§‹æ—¶é—´ï¼š</text>
          <text class="detail-value">{{item.startTime}}</text>
        </view>
        <view class="detail-item">
          <text class="detail-label">ç»“æŸæ—¶é—´ï¼š</text>
          <text class="detail-value">{{item.endTime}}</text>
        </view>
        <view class="detail-item" wx:if="{{item.participantCount > 0}}">
          <text class="detail-label">å‚ä¸äººæ•°ï¼š</text>
          <text class="detail-value">{{item.participantCount}}äºº</text>
        </view>
        <view class="detail-item" wx:if="{{item.recordingCount > 0}}">
          <text class="detail-label">å½•éŸ³æ•°é‡ï¼š</text>
          <text class="detail-value">{{item.recordingCount}}æ¡</text>
        </view>
      </view>

      <!-- æ“ä½œæŒ‰é’® -->
      <view class="meeting-actions">
        <button class="action-btn primary" 
                wx:if="{{item.status === 'scheduled'}}"
                bindtap="startRecording" 
                data-id="{{item.id}}">
          <text>å¼€å§‹å½•éŸ³</text>
        </button>
        
        <button class="action-btn warning" 
                wx:if="{{item.status === 'ongoing'}}"
                bindtap="stopRecording" 
                data-id="{{item.id}}">
          <text>åœæ­¢å½•éŸ³</text>
        </button>
        
        <button class="action-btn default" 
                bindtap="viewMeeting" 
                data-id="{{item.id}}">
          <text>æŸ¥çœ‹è¯¦æƒ…</text>
        </button>
        
        <button class="action-btn danger" 
                wx:if="{{item.status !== 'ongoing'}}"
                bindtap="deleteMeeting" 
                data-id="{{item.id}}">
          <text>åˆ é™¤</text>
        </button>
      </view>

      <!-- åˆ›å»ºæ—¶é—´ -->
      <view class="meeting-footer">
        <text class="created-time">åˆ›å»ºæ—¶é—´ï¼š{{item.createdAt}}</text>
      </view>
    </view>

    <!-- åŠ è½½æ›´å¤š -->
    <view class="load-more" wx:if="{{hasMore && meetings.length > 0}}">
      <text class="load-more-text" wx:if="{{!loading}}">ä¸Šæ‹‰åŠ è½½æ›´å¤š</text>
      <text class="load-more-text" wx:if="{{loading}}">åŠ è½½ä¸­...</text>
    </view>

    <!-- æ²¡æœ‰æ›´å¤š -->
    <view class="no-more" wx:if="{{!hasMore && meetings.length > 0}}">
      <text class="no-more-text">æ²¡æœ‰æ›´å¤šäº†</text>
    </view>
  </view>

  <!-- æ‚¬æµ®åˆ›å»ºæŒ‰é’® -->
  <view class="fab" bindtap="createMeeting">
    <text class="fab-icon">+</text>
  </view>
</view>